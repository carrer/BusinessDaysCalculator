var BusinessDaysCalculator=function(){var e,t={};return e="undefined"!=typeof module&&this.module!==module?require("holidays-calendar"):HolidaysCalendar,RemainingHolidaysInYear=function(t){if(!(t instanceof Date))throw"'date' must be a Date object";var a,n,o=t.getFullYear(),i=t.getMonth(),r=t.getTime(),s=0,l=e.Month(o,i+1);if(!e.Year(o))return 0;if(l)for(var u in l.days)n=l.days[u],a=new Date(o,i,n),a.getTime()>=r&&s++;for(var f=i+2;f<=12;f++)l=e.Month(o,f),l&&(s+=l.total);return s},HolidaysInYearUntill=function(t){if("undefined"==typeof t)t=reference;else if(!(t instanceof Date))throw"'date' must be a Date object";var a,n,o,i=t.getFullYear(),r=t.getMonth(),s=t.getTime(),l=0;if(!e.Year(i))return 0;for(var u=0;u<r;u++)o=e.Month(i,u+1),o&&(l+=o.total);if(o=e.Month(i,r+1))for(var f in o.days)n=o.days[f],a=new Date(i,r,n),a.getTime()<=s&&l++;return l},t.NextHoliday=function(t){if(!(t instanceof Date))throw"'date' must be a Date object";for(var a,n,o=t.getFullYear(),i=t.getMonth(),r=t.getTime();o<2100;){if(tmp=e.Month(o,i+1),tmp){for(var s in tmp.days)if(n=tmp.days[s],a=new Date(o,i,n),a.getTime()>r)return a;i++}else i++;i>11&&(i=0,o++)}return!1},t.HolidaysBetween=function(t,a){var n,o,i=0;if(!(t instanceof Date))throw"'date1' must be a Date object";if(!(a instanceof Date))throw"'date2' must be a Date object";if(t.getTime()>a.getTime()&&(n=t,t=a,a=n),t.getFullYear()==a.getFullYear()){var r,s=t.getFullYear(),l=t.getTime(),u=a.getTime();if(l==u)return 0;for(var f=t.getMonth();f<=a.getMonth();f++)if(o=e.Month(s,f+1))for(var d in o.days)r=o.days[d],n=new Date(s,f,r),n.getTime()>=l&&n.getTime()<=u&&i++}else{var s=t.getFullYear();for(i+=RemainingHolidaysInYear(t);++s<a.getFullYear();)o=e.Year(s),o&&(i+=o.total);i+=HolidaysInYearUntill(a)}return i},t.IsHoliday=function(t){if(!(t instanceof Date))throw"'date' must be a Date object";return 0!=e.Day(t.getFullYear(),t.getMonth()+1,t.getDate())},t.WorkingDaysBetween=function(e,a,n){var o,i,r,s,l=0;if(!(e instanceof Date))throw"'date1' must be a Date object";if(!(a instanceof Date))throw"'date2' must be a Date object";if("undefined"==typeof n&&(n=!0),e>a){var u=e;e=a,a=u}o=Math.ceil((a.getTime()-e.getTime())/864e5)+1,i=Math.floor(o/7),l+=5*i,r=o-7*i,s=new Date((+e));for(var f=0;f<r;f++)0!=s.getDay()&&6!=s.getDay()&&l++,s.setDate(s.getDate()+1);return n?l-t.HolidaysBetween(e,a):l},t}();"undefined"!=typeof module&&this.module!==module&&(module.exports={NextHoliday:BusinessDaysCalculator.NextHoliday,WorkingDaysBetween:BusinessDaysCalculator.WorkingDaysBetween,IsHoliday:BusinessDaysCalculator.IsHoliday,HolidaysBetween:BusinessDaysCalculator.HolidaysBetween,_Holidays:BusinessDaysCalculator._Holidays});